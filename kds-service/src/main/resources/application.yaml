server:
  port: 8085

spring:
  application:
    name: kds-service

  # Kafka Configuration
  kafka:
    bootstrap-servers: ${SPRING_KAFKA_BOOTSTRAP_SERVERS:kdswaiter.servicebus.windows.net:9093}
    properties:
      security.protocol: SASL_SSL
      sasl.mechanism: PLAIN
      sasl.jaas.config: org.apache.kafka.common.security.plain.PlainLoginModule required username="$ConnectionString" password="Endpoint=sb://kdswaiter.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=<YOUR_SECRET_KEY>";
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer
      properties:
        spring.json.add.type.headers: false
    topic:
      order-ready: order-ready

# Order Service - DIRECT ACCESS
order-service:
  base-url: ${ORDER_SERVICE_BASE_URL:https://gateway-app.mangofield-91faac5e.southeastasia.azurecontainerapps.io/api/orders}

# Polling Configuration
polling:
  interval-ms: 3000

# Redis Configuration (OPTIONAL)
redis:
  enabled: ${REDIS_ENABLED:false}
  host: ${REDIS_HOST:localhost}
  port: 6379

# Logging
logging:
  level:
    com.restaurant.kds_service: INFO
    org.springframework.kafka: WARN
    org.springframework.data.redis: WARN
